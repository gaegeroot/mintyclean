{% extends "base.njk" %}
{% block content %}
    <style>
        .subtitle {
            font-size: 0.875rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            display: block;
            margin-bottom: 1rem;
        }
        .form-container {
            background-color: white;
            border-radius: 1rem;
            padding: 3rem;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
        }
        .sidebar-element {
            background-color: white;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 1.5rem;
            text-align: center;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
        }
        .sidebar-element i {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }
        .sidebar-element strong {
            display: block;
            margin-bottom: 0.75rem;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .sidebar-element p {
            font-size: 0.9rem;
            margin: 0;
            line-height: 1.6;
        }
        .summary-box {
            background-color: white;
            border-radius: 1rem;
            padding: 2rem;
            position: sticky;
            top: 80px;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
        }
        .summary-box h3 {
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #dee2e6;
        }
        .form-label {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .form-control,
        .form-select {
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            font-family: 'Quattrocento', serif;
        }
        .form-control:focus,
        .form-select:focus {
            box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.1);
        }
        .tos-text {
            font-size: 0.875rem;
            margin-top: 1rem;
            text-align: center;
        }
        textarea.form-control {
            resize: vertical;
            min-height: 100px;
        }
        small.text-muted {
            font-size: 0.875rem;
            color: #6c757d;
        }
        .success-message {
            text-align: center;
            padding: 3rem;
        }
        .success-message i {
            font-size: 5rem;
            margin-bottom: 1.5rem;
        }
        .success-message h2 {
            margin-bottom: 1rem;
        }
        .success-message .alert {
            border-radius: 0.75rem;
            padding: 1rem;
            background-color: #198754;
            border: none;
            color: #fff;
            font-weight: 600;
        }
        hr {
            margin: 2.5rem 0;
            opacity: 0.1;
        }
    </style>
    <main>
        <section class="section">
            <div class="container">
                <div class="row">
                    <!-- Main Form -->
                    <div class="col-lg-8">
                        <div class="form-container">
                            <div class="text-center mb-5" id="form-header">
                                <span class="subtitle">Join Our Team</span>
                                <h2 class="mb-4">Apply to Work at Minty Clean</h2>
                                <h5 class="text-muted fw-normal mb-4">We're looking for reliable, detail-oriented cleaners who care about quality</h5>
                                <p class="text-muted">
                                    Thanks for your interest in joining our team! We're a small cleaning company that takes pride in doing excellent work. 
                                    We're looking for people who are reliable, pay attention to details, and want to be part of a team that actually cares 
                                    about doing a good job. Fill out the form below and we'll get back to you soon.
                                </p>
                            </div>
                            <hr>
                            <form id="careerForm" novalidate>
                                <!-- Personal Information -->
                                <h3 class="form-section-title">Personal Information</h3>
                                
                                <div class="row g-3 mb-4">
                                    <div class="col-md-6">
                                        <label for="firstName" class="form-label">First Name <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="firstName" name="firstName" required placeholder="Enter your first name">
                                        <div class="invalid-feedback">Please enter your first name.</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="lastName" class="form-label">Last Name <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="lastName" name="lastName" required placeholder="Enter your last name">
                                        <div class="invalid-feedback">Please enter your last name.</div>
                                    </div>
                                </div>

                                <div class="row g-3 mb-4">
                                    <div class="col-md-6">
                                        <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
                                        <input type="email" class="form-control" id="email" name="email" required placeholder="Enter your email">
                                        <div class="invalid-feedback">Please enter a valid email.</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="phone" class="form-label">Phone Number <span class="text-danger">*</span></label>
                                        <input type="tel" class="form-control" id="phone" name="phone" required placeholder="Enter your phone number" pattern="[0-9\s\-\(\)\+\.]{10,20}">
                                        <div class="invalid-feedback">Please enter a valid phone number.</div>
                                    </div>
                                </div>

                                <div class="mb-4">
                                    <label for="address" class="form-label">Address <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="address" name="address" required placeholder="Street address">
                                    <div class="invalid-feedback">Please enter your address.</div>
                                </div>

                                <div class="row g-3 mb-4">
                                    <div class="col-md-5">
                                        <label for="city" class="form-label">City <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="city" name="city" required placeholder="City">
                                        <div class="invalid-feedback">Please enter your city.</div>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="state" class="form-label">State <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="state" name="state" required placeholder="State">
                                        <div class="invalid-feedback">Please enter your state.</div>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="zipcode" class="form-label">ZIP Code <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="zipcode" name="zipcode" required placeholder="ZIP code">
                                        <div class="invalid-feedback">Please enter your ZIP code.</div>
                                    </div>
                                </div>

                                <!-- Availability & Transportation -->
                                <h3 class="form-section-title">Availability & Transportation</h3>

                                <div class="mb-4">
                                    <label class="form-label">Do you have reliable transportation? <span class="text-danger">*</span></label>
                                    <div class="row g-2">
                                        <div class="col-6 col-md-3">
                                            <input type="radio" class="btn-check" name="transportation" id="transYes" value="yes" required>
                                            <label class="btn w-100" for="transYes">Yes</label>
                                        </div>
                                        <div class="col-6 col-md-3">
                                            <input type="radio" class="btn-check" name="transportation" id="transNo" value="no">
                                            <label class="btn w-100" for="transNo">No</label>
                                        </div>
                                    </div>
                                    <div class="invalid-feedback d-block" style="display: none;" id="transportationError">Please select an option.</div>
                                </div>

                                <div class="mb-4">
                                    <label class="form-label">What days are you available to work? <span class="text-danger">*</span></label>
                                    <small class="d-block text-muted mb-2">Select all that apply</small>
                                    <div class="row g-2">
                                        <div class="col-6 col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="monday" name="availability" value="monday">
                                                <label class="form-check-label" for="monday">Monday</label>
                                            </div>
                                        </div>
                                        <div class="col-6 col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="tuesday" name="availability" value="tuesday">
                                                <label class="form-check-label" for="tuesday">Tuesday</label>
                                            </div>
                                        </div>
                                        <div class="col-6 col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="wednesday" name="availability" value="wednesday">
                                                <label class="form-check-label" for="wednesday">Wednesday</label>
                                            </div>
                                        </div>
                                        <div class="col-6 col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="thursday" name="availability" value="thursday">
                                                <label class="form-check-label" for="thursday">Thursday</label>
                                            </div>
                                        </div>
                                        <div class="col-6 col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="friday" name="availability" value="friday">
                                                <label class="form-check-label" for="friday">Friday</label>
                                            </div>
                                        </div>
                                        <div class="col-6 col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="saturday" name="availability" value="saturday">
                                                <label class="form-check-label" for="saturday">Saturday</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-4">
                                    <label for="hoursPerWeek" class="form-label">How many hours per week are you looking to work? <span class="text-danger">*</span></label>
                                    <select class="form-select" id="hoursPerWeek" name="hoursPerWeek" required>
                                        <option value="">Select hours per week</option>
                                        <option value="10-20">10-20 hours</option>
                                        <option value="20-30">20-30 hours</option>
                                        <option value="30-40">30-40 hours</option>
                                        <option value="40+">40+ hours</option>
                                    </select>
                                    <div class="invalid-feedback">Please select your preferred hours.</div>
                                </div>

                                <div class="mb-4">
                                    <label for="startDate" class="form-label">When can you start? <span class="text-danger">*</span></label>
                                    <input type="date" class="form-control" id="startDate" name="startDate" required>
                                    <div class="invalid-feedback">Please select a start date.</div>
                                </div>

                                <!-- Experience & Skills -->
                                <h3 class="form-section-title">Experience & Skills</h3>

                                <div class="mb-4">
                                    <label class="form-label">Do you have professional cleaning experience? <span class="text-danger">*</span></label>
                                    <div class="row g-2">
                                        <div class="col-6 col-md-3">
                                            <input type="radio" class="btn-check" name="experience" id="expYes" value="yes" required>
                                            <label class="btn w-100" for="expYes">Yes</label>
                                        </div>
                                        <div class="col-6 col-md-3">
                                            <input type="radio" class="btn-check" name="experience" id="expNo" value="no">
                                            <label class="btn w-100" for="expNo">No</label>
                                        </div>
                                    </div>
                                    <div class="invalid-feedback d-block" style="display: none;" id="experienceError">Please select an option.</div>
                                </div>

                                <div class="mb-4">
                                    <label for="experienceDetails" class="form-label">If yes, please describe your cleaning experience</label>
                                    <small class="d-block text-muted mb-2">Include where you worked, how long, and what type of cleaning you did</small>
                                    <textarea class="form-control" id="experienceDetails" name="experienceDetails" rows="4"></textarea>
                                </div>

                                <div class="mb-4">
                                    <label class="form-label">Are you comfortable cleaning homes with pets?</label>
                                    <div class="row g-2">
                                        <div class="col-6 col-md-3">
                                            <input type="radio" class="btn-check" name="pets" id="petsYes" value="yes">
                                            <label class="btn w-100" for="petsYes">Yes</label>
                                        </div>
                                        <div class="col-6 col-md-3">
                                            <input type="radio" class="btn-check" name="pets" id="petsNo" value="no">
                                            <label class="btn w-100" for="petsNo">No</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-4">
                                    <label class="form-label">Do you have any physical limitations that would prevent you from doing cleaning work?</label>
                                    <small class="d-block text-muted mb-2">This job involves standing, bending, lifting, and repetitive motions</small>
                                    <div class="row g-2">
                                        <div class="col-6 col-md-3">
                                            <input type="radio" class="btn-check" name="limitations" id="limitYes" value="yes">
                                            <label class="btn w-100" for="limitYes">Yes</label>
                                        </div>
                                        <div class="col-6 col-md-3">
                                            <input type="radio" class="btn-check" name="limitations" id="limitNo" value="no">
                                            <label class="btn w-100" for="limitNo">No</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-4">
                                    <label for="limitationDetails" class="form-label">If yes, please explain</label>
                                    <textarea class="form-control" id="limitationDetails" name="limitationDetails" rows="3"></textarea>
                                </div>

                                <!-- References -->
                                <h3 class="form-section-title">References</h3>

                                <div class="mb-4">
                                    <label for="reference1Name" class="form-label">Reference 1 - Name <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="reference1Name" name="reference1Name" required placeholder="Full name">
                                    <div class="invalid-feedback">Please provide a reference name.</div>
                                </div>

                                <div class="row g-3 mb-4">
                                    <div class="col-md-6">
                                        <label for="reference1Phone" class="form-label">Reference 1 - Phone <span class="text-danger">*</span></label>
                                        <input type="tel" class="form-control" id="reference1Phone" name="reference1Phone" required placeholder="Phone number">
                                        <div class="invalid-feedback">Please provide a phone number.</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="reference1Relationship" class="form-label">Reference 1 - Relationship <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="reference1Relationship" name="reference1Relationship" required placeholder="e.g., Former supervisor">
                                        <div class="invalid-feedback">Please describe your relationship.</div>
                                    </div>
                                </div>

                                <div class="mb-4">
                                    <label for="reference2Name" class="form-label">Reference 2 - Name <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="reference2Name" name="reference2Name" required placeholder="Full name">
                                    <div class="invalid-feedback">Please provide a reference name.</div>
                                </div>

                                <div class="row g-3 mb-4">
                                    <div class="col-md-6">
                                        <label for="reference2Phone" class="form-label">Reference 2 - Phone <span class="text-danger">*</span></label>
                                        <input type="tel" class="form-control" id="reference2Phone" name="reference2Phone" required placeholder="Phone number">
                                        <div class="invalid-feedback">Please provide a phone number.</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="reference2Relationship" class="form-label">Reference 2 - Relationship <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="reference2Relationship" name="reference2Relationship" required placeholder="e.g., Colleague">
                                        <div class="invalid-feedback">Please describe your relationship.</div>
                                    </div>
                                </div>

                                <!-- Additional Information -->
                                <h3 class="form-section-title">Additional Information</h3>

                                <div class="mb-4">
                                    <label for="whyWork" class="form-label">Why do you want to work for Minty Clean? <span class="text-danger">*</span></label>
                                    <textarea class="form-control" id="whyWork" name="whyWork" rows="4" required></textarea>
                                    <div class="invalid-feedback">Please tell us why you want to work here.</div>
                                </div>

                                <div class="mb-4">
                                    <label for="strengths" class="form-label">What are your greatest strengths?</label>
                                    <textarea class="form-control" id="strengths" name="strengths" rows="3"></textarea>
                                </div>

                                <div class="mb-4">
                                    <label for="hearAbout" class="form-label">How did you hear about this position?</label>
                                    <select class="form-select" id="hearAbout" name="hearAbout">
                                        <option value="">Select an option</option>
                                        <option value="website">Company Website</option>
                                        <option value="indeed">Indeed</option>
                                        <option value="craigslist">Craigslist</option>
                                        <option value="facebook">Facebook</option>
                                        <option value="referral">Referral from friend/family</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>

                                <div class="mb-4">
                                    <label for="additionalInfo" class="form-label">Is there anything else you'd like us to know?</label>
                                    <textarea class="form-control" id="additionalInfo" name="additionalInfo" rows="3"></textarea>
                                </div>

                                <!-- Submit Button -->
                                <div class="text-center mt-5">
                                    <button type="submit" class="btn">
                                        Submit Application
                                    </button>
                                    <p class="tos-text">
                                        By submitting this application, you acknowledge that the information provided is accurate
                                    </p>
                                </div>
                            </form>

                            <!-- Success Message (hidden by default) -->
                            <div id="successMessage" class="success-message" style="display: none;">
                                <i class="bi bi-check-circle-fill text-success"></i>
                                <h2>Application submitted successfully!</h2>
                                <p class="lead mb-4">
                                    Thank you for applying to Minty Clean! We've received your application and will review it carefully. 
                                    If your qualifications match what we're looking for, we'll reach out to schedule an interview.
                                </p>
                                <div class="alert mb-0">
                                    We typically respond within 3-5 business days. Check your email (and spam folder) for updates!
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Sidebar -->
                    <div class="col-lg-4 d-none d-lg-block">
                        <div class="sidebar-element">
                            <i class="bi bi-clipboard-check"></i>
                            <strong>Apply Today</strong>
                            <p>Fill out the application form completely and honestly. It takes about 10 minutes.</p>
                        </div>

                        <div class="sidebar-element">
                            <i class="bi bi-phone"></i>
                            <strong>We'll Review Your Info</strong>
                            <p>We carefully review every application and will contact qualified candidates for an interview.</p>
                        </div>

                        <div class="sidebar-element">
                            <i class="bi bi-people"></i>
                            <strong>Join Our Team</strong>
                            <p>If you're a good fit, we'll bring you on board and train you in our cleaning methods.</p>
                        </div>

                        <div class="summary-box">
                            <h3>What We're Looking For</h3>
                            <ul class="list-unstyled">
                                <li class="mb-3">
                                    <i class="bi bi-check-circle text-success me-2"></i>
                                    <strong>Reliable & punctual</strong>
                                </li>
                                <li class="mb-3">
                                    <i class="bi bi-check-circle text-success me-2"></i>
                                    <strong>Detail-oriented</strong>
                                </li>
                                <li class="mb-3">
                                    <i class="bi bi-check-circle text-success me-2"></i>
                                    <strong>Honest & trustworthy</strong>
                                </li>
                                <li class="mb-3">
                                    <i class="bi bi-check-circle text-success me-2"></i>
                                    <strong>Team player</strong>
                                </li>
                                <li class="mb-0">
                                    <i class="bi bi-check-circle text-success me-2"></i>
                                    <strong>Professional attitude</strong>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <script>
            // Form validation and submission
            const form = document.getElementById('careerForm');
            form.addEventListener('submit', function(event) {
                event.preventDefault();

                if (!form.checkValidity()) {
                    event.stopPropagation();
                    form.classList.add('was-validated');
                } else {
                    // Hide form and show success message
                    document.getElementById('form-header').style.display = 'none';
                    form.style.display = 'none';
                    document.querySelector('hr').style.display = 'none';
                    document.getElementById('successMessage').style.display = 'block';

                    // Scroll to top of form container
                    document.querySelector('.form-container').scrollIntoView({ behavior: 'smooth', block: 'start' });

                    // In a real implementation, send form data to server
                    console.log('Application submitted successfully!');
                }
            });
        </script>
    </main>
{% endblock %}